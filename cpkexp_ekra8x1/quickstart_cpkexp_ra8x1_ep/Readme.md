# 工程概述

该示例工程演示基于 CPKCOR+扩展板和 MIPI 屏幕及摄像头的综合应用。屏幕驱动 IC 为 ST7796U，分辨率 222x480，摄像头型号为 OV7725

# 硬件要求

- 1 块 Renesas RA8 核心板：CPKCOR-RA8D1B
- 1 块扩展板
- 1 根 USB TypeA -> TypeC 线
- 1 根网线
- 1 个 OV7725 摄像头模组
- 1 个可以上网并提供 DHCP 功能的路由器

# 硬件连接及注意事项

通过 Type-C 连接 PC 和核心板上的 USB 调试端口，核心板 USB 端口使用 DEBUG 丝印标记的端口。

屏幕跳线连接，屏幕的背光控制引脚，丝印 BKL-EN，连接至 P001，可让 RA8D1 控制屏幕的亮灭；或者连接至 VCC 让屏幕保持常量

![](Readme.assets\IMG_20250626_134152.png)

由于以太网接口和摄像头接口有复用，因此与二者有关的功能不能同时演示，下图是连接摄像头时的跳线帽连接

![](Readme.assets\IMG_20250626_115535.png)

下图为连接以太网时的跳线帽连接，并注意需要把摄像头模组取下

![](Readme.assets\IMG_20250626_133303.png)

# 软件开发环境

- FSP 版本：FSP 5.9.0
- 集成开发环境和编译器：e2 studio 2025-04 (25.4.0) + LLVM for ARM 18.1.3

# 屏幕演示

打开工程，编译，烧录

当前所有演示为 `主界面 -> 开发套件信息 -> LED 控制 -> 货币转换 -> 实时天气 -> 世界时钟 -> 人脸预测 -> 物品识别` 间循环。演示可通过核心板和扩展板上的按键进行切换，核心板上的按键用于切换到下一个演示，扩展板上的演示用于切换到上一个演示。按键的位置如下图所示

![](Readme.assets\IMG_20250626_140028.png)

## 启动界面

上电或复位后，MIPI 屏幕首先会显示如下启动界面，然后自动切换至主界面

![](Readme.assets\IMG_20250626_135222.jpg)

## 主界面

以下为主界面，切换到主界面后，可以按核心板上的按键和扩展板上的按键切换演示。

![](Readme.assets\IMG_20250626_135127.jpg)

## 套件信息

该界面显示套件的序列号、型号、UID 前 16 字节、Die 温度、开发套件信息的 Web 连接，Die 温度会实时更新

![](Readme.assets\IMG_20250626_140825.jpg)

## LED 控制

该界面以仪表盘形式展示蓝色 LED 的闪烁频率和亮度，并自动循环调节闪烁频率和亮度

![](Readme.assets/IMG_20250626_141716.jpg)

## 货币转换

该界面显示 USD 对 CNY 的汇率，默认显示模拟数据，可在终端演示中刷新当前汇率

![](Readme.assets/IMG_20250626_142940.jpg)

## 实时天气

该界面显示四个城市的天气信息，分别为上海、东京、纽约、旧金山，RA8D1 会自动循环切换城市。默认显示模拟数据，可在终端中刷新为当前天气

上海

![](Readme.assets/IMG_20250626_143732.jpg)

东京

![](Readme.assets/IMG_20250626_143743.jpg)

纽约

![](Readme.assets/IMG_20250626_143754.jpg)

旧金山

![](Readme.assets/IMG_20250626_143724.jpg)

## 世界时钟

该界面显示四个城市的时钟信息，分别为旧金山、伦敦、北京、东京，RA8D1 会自动循环切换城市。默认显示模拟数据，可在终端演示中刷新当前时间

旧金山

![](Readme.assets/IMG_20250626_145123.jpg)

伦敦

![](Readme.assets/IMG_20250626_145130.jpg)

北京

![](Readme.assets/IMG_20250626_145142.jpg)

东京

![](Readme.assets/IMG_20250626_145156.jpg)

## 人脸预测

该界面演示在 RA8D1 上运行 YOLO Fast 模型来检测人脸，屏幕左侧显示检测结果，右侧显示摄像头捕获的图像。若检测不到摄像头，右侧显示错误信息。

摄像头连接时，显示如下

![](Readme.assets/Snipaste_2025-06-26_16-27-53.png)

检测不到摄像头时显示的错误信息

![](Readme.assets/IMG_20250626_150208.jpg)

## 物品分类

该界面演示在 RA8D1 上运行 Mobilenet 进行物品分类，屏幕左侧显示检测结果，右侧显示摄像头捕获的图像。若检测不到摄像头，右侧显示错误信息

摄像头连接时显示如下

![](Readme.assets/IMG_20250626_164004.jpg)

检测不到摄像头时显示的错误信息

![](Readme.assets/IMG_20250626_150433.png)

# 终端演示

该示例包含一个串口终端演示，可通过终端与 RA8D1 交互。交互信息已汉化，建议使用支持 UTF-8 编码的终端工具，这里推荐使用 MobaXterm。串口参数如下图所示

![](Readme.assets/Snipaste_2025-06-26_15-15-33.png)

其中 `Serial port` 项需要根据 PC 的显示确定，不一定都是 COM5。

默认进入 `2. 交互式 AI, 连接性与人机接口演示` 即屏幕演示，按空格键可回到主界面。若 BKL-EN 通过跳线帽连接到了 P001，则屏幕会关闭

![](Readme.assets/Snipaste_2025-06-26_15-16-32.png)

按空格后回到主界面

![](Readme.assets/Snipaste_2025-06-26_15-18-50.png)

显示的菜单项根据是否有网络而不同。当连接了网络时共有 7 个选项，当没有网络连接时，共有 3 个选项

## 1. 开发板信息

在主菜单界面按 1 进入该演示，该界面显示该开发套件的一些基本信息

![](Readme.assets/Snipaste_2025-06-26_15-22-41.png)

## 2. 交互式 AI, 连接性与人机接口演示

在主菜单按下 2 进入该演示，该演示也是上电后的默认演示，即屏幕演示。若 BKL-EN 通过跳线帽连接到了 P001，屏幕会重新亮起

## 3. 刷新货币转换汇率

在主菜单按下 3 进入该演示。

![](Readme.assets/Snipaste_2025-06-26_15-28-09.png)

然后按 Enter 键开始刷新，刷新时间根据网络状况不同，可能需要数分钟，请耐心等待。刷新完成后显示如下界面

![](Readme.assets/Snipaste_2025-06-26_15-34-49.png)

按空格返回，然后按 2 进入屏幕演示，再通过按键切换到货币转换演示，可看到更新的实时汇率信息

若 API Key 不存在，则会进入如下界面

![](Readme.assets/Snipaste_2025-06-26_16-45-50.png)

输入 API Key 后可正常刷新

![](Readme.assets/Snipaste_2025-06-26_16-48-06_01.png)

## 4. 刷新世界时钟

在主菜单按下 4 进入该演示。

![](Readme.assets/Snipaste_2025-06-26_15-42-57.png)

然后按 Enter 开始刷新，刷新时间根据网络状况不同，可能需要数分钟，请耐心等待。刷新完成后显示如下界面

![](Readme.assets/Snipaste_2025-06-26_15-43-26.png)

按空格返回，然后按 2 进入屏幕演示，再通过按键切换到货币转换演示，可看到更新的实时汇率信息

## 5. 刷新世界天气

在主菜单按下 5 进入该演示。

![](Readme.assets/Snipaste_2025-06-26_15-53-46.png)

然后按 Enter 开始刷新，刷新时间根据网络状况不同，可能需要数分钟，请耐心等待。刷新完成后显示如下界面

![](Readme.assets/Snipaste_2025-06-26_15-55-58.png)

## 6. API KEYS 帮助和管理

在主菜单按下 6 进入该演示。

![](Readme.assets/Snipaste_2025-06-26_15-58-24.png)

按 E 可擦除当前的 API Key

![](Readme.assets/Snipaste_2025-06-26_16-45-21.png)

注意：

- 由于免费 API Key 的请求数量有限，除非主动在终端中通过上述的 3、4、5 演示发起刷新，其它任何时候 RA8D1 都不会去主动使用 API Key
- 擦除后，当再次运行上述的 3、4、5 演示时，需要重新输入 API Key

## 7. 更多信息

在主菜单按下 7 进入该演示。

![](Readme.assets/Snipaste_2025-06-26_16-08-02.png)